import{r as J,c as h,a as $,o as c,b as d,d as a,e as K,F as M,f as N,S as j,g as ee,u as E,M as y,t as v,h as q,w as S,v as V,i as I,j as te,k as oe,l as B,m as ae,n as se,p as k,q as L,s as R,x as U,y as x,z as H,A as ne,B as re,C as ie}from"./vendor.a5ceec8f.js";const le=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function t(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}};le();const i=J({user:{},account:{},keeps:[],activeKeep:{},myKeeps:[],vaults:[],activeVault:{},myVaults:[],activeProfile:{},vaultKeeps:[],myVaultKeeps:[]});var f=(s,e)=>{for(const[o,t]of e)s[o]=t;return s};const ce={name:"App",setup(){return{appState:h(()=>i)}}};function de(s,e,o,t,r,l){const n=$("Navbar"),p=$("router-view"),w=$("Modal");return c(),d(M,null,[a("header",null,[K(n)]),a("main",null,[K(p)]),K(w)],64)}var ue=f(ce,[["render",de]]);const pe={setup(){return{}}},_e={class:"modal fade",id:"form-modal",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},me={class:"modal-dialog modal-dialog-centered",role:"document"},ve={class:"modal-content"},ge={class:"modal-header"},he=a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),fe={class:"modal-body"};function be(s,e,o,t,r,l){return c(),d("div",_e,[a("div",me,[a("div",ve,[a("div",ge,[N(s.$slots,"modal-title-slot"),he]),a("div",fe,[N(s.$slots,"modal-body-slot")])])])])}var ye=f(pe,[["render",be]]),ke=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ye});const z=window.location.origin.includes("localhost"),W=z?"https://localhost:5001":"",we="dev-cqipusvi.us.auth0.com",xe="A5W8kG3Elb7hKFWQANsciWYCaMO5WwtL",$e="https://MariaDev.com";function C(s,e){if(z)console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(s){case"log":case"assert":return}console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const u={log(){C("log",arguments)},error(){C("error",arguments)},warn(){C("warn",arguments)},assert(){C("assert",arguments)},trace(){C("trace",arguments)}};class m{static async confirm(e="Are you sure?",o="You won't be able to revert this!",t="warning",r="Yes, delete it!"){try{return!!(await j.fire({title:e,text:o,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:r})).isConfirmed}catch{return!1}}static toast(e="Warning!",o="warning",t="top-end",r=3e3,l=!0){j.fire({title:e,icon:o,position:t,timer:r,timerProgressBar:l,toast:!0,showConfirmButton:!1})}static error(e){var o;if(e.isAxiosError){const{response:t}=e;this.toast(((o=t.data.error)==null?void 0:o.message)||t.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}const _=ee.create({baseURL:W,timeout:8e3});class Ke{async getKeeps(){const e=await _.get("api/keeps");i.keeps=e.data}async getById(e){const o=await _.get("api/keeps/"+e);u.log(o.data),o.data.views+=1,i.activeKeep=o.data}async getProfileKeeps(e){const o=await _.get(`api/profiles/${e}/keeps`);i.myKeeps=o.data}async getVaultKeeps(e){const o=await _.get(`api/vaults/${e}/keeps`);u.log("vaultkeeps",o.data),i.vaultKeeps=o.data}async createKeep(e){const o=await _.post("api/keeps",e);i.myKeeps.unshift(o.data)}async deleteKeep(e){return await _.delete("api/keeps/"+e),i.myKeeps=i.myKeeps.filter(o=>o.id!==e),i.keeps=i.keeps.filter(o=>o.id!==e),m.toast("Keep Deleted","success")}async unSaveKeep(e,o){return await _.delete("api/vaultKeeps/"+e),i.vaultKeeps=this.getVaultKeeps(o),m.toast("Keep Removed from Vault","success")}}const P=new Ke;const Se={props:{keep:{type:Object,required:!0}},setup(){return E(),{activekeep:h(()=>i.activeKeep),async setActive(s){try{await P.getById(s),y.getOrCreateInstance(document.getElementById("keep-modal")).show()}catch(e){u.error(e),m.toast(e.message,"error")}}}}},Ve=["src","alt"],Ce={class:"bg-shadow d-flex d-flex align-items-end"},Pe=["src","alt"],Ee={class:"p-1 keep-title text-light hover"};function Ie(s,e,o,t,r,l){return c(),d("div",{class:"keep position-relative bg-dark elevation-2",title:"expand keep",onClick:e[0]||(e[0]=n=>t.setActive(o.keep.id))},[a("img",{class:"img-fluid img-keep",src:o.keep.img,alt:o.keep.name},null,8,Ve),a("div",Ce,[a("img",{src:o.keep.creator.picture,class:"profile-keep-img m-2 hover",alt:o.keep.creator.name},null,8,Pe),a("h4",Ee,v(o.keep.name),1)])])}var Te=f(Se,[["render",Ie],["__scopeId","data-v-4a003dd5"]]),Ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Te});const Oe={setup(){const s=q({});return{editable:s,async createKeep(){try{await P.createKeep(s.value),y.getOrCreateInstance(document.getElementById("create-keep-form")).hide(),s.value={}}catch(e){u.error(e),m.toast(e.message,"error"),s.value=""}}}}},Me={class:"form-group"},Be=a("label",{for:"Name"},"Name",-1),De={class:"form-group"},Ne=a("label",{for:"Description"},"Description",-1),je={class:"form-group"},qe=a("label",{for:"Image"},"Image",-1),Le=a("button",{type:"submit",class:"btn btn-secondary mt-2",title:"Create Keep"}," Create ",-1);function Re(s,e,o,t,r,l){return c(),d("form",{onSubmit:e[3]||(e[3]=I((...n)=>t.createKeep&&t.createKeep(...n),["prevent"]))},[a("div",Me,[Be,S(a("input",{type:"text",class:"form-control",id:"name",required:"",max:"50",placeholder:"Cheesecake Recipe","onUpdate:modelValue":e[0]||(e[0]=n=>t.editable.name=n)},null,512),[[V,t.editable.name]])]),a("div",De,[Ne,S(a("input",{type:"text",class:"form-control",id:"description",required:"",max:"100",placeholder:"description...","onUpdate:modelValue":e[1]||(e[1]=n=>t.editable.description=n)},null,512),[[V,t.editable.description]])]),a("div",je,[qe,S(a("input",{type:"text",class:"form-control",id:"img",required:"",max:"250",placeholder:"https://thiscatdoesnotexist.com","onUpdate:modelValue":e[2]||(e[2]=n=>t.editable.img=n)},null,512),[[V,t.editable.img]])]),Le],32)}var Ue=f(Oe,[["render",Re]]),He=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ue});const ze="modulepreload",F={},We="/",T=function(e,o){return!o||o.length===0?e():Promise.all(o.map(t=>{if(t=`${We}${t}`,t in F)return;F[t]=!0;const r=t.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${l}`))return;const n=document.createElement("link");if(n.rel=r?"stylesheet":ze,r||(n.as="script",n.crossOrigin=""),n.href=t,document.head.appendChild(n),r)return new Promise((p,w)=>{n.addEventListener("load",p),n.addEventListener("error",w)})})).then(()=>e())};function Fe(s){switch(s){case"./pages/AccountPage.vue":return T(()=>import("./AccountPage.f245637e.js"),["assets/AccountPage.f245637e.js","assets/AccountPage.1d38451d.css","assets/vendor.a5ceec8f.js"]);case"./pages/HomePage.vue":return T(()=>import("./HomePage.65a309d7.js"),["assets/HomePage.65a309d7.js","assets/HomePage.d46f2406.css","assets/vendor.a5ceec8f.js"]);case"./pages/ProfilePage.vue":return T(()=>import("./ProfilePage.1e913103.js"),["assets/ProfilePage.1e913103.js","assets/vendor.a5ceec8f.js"]);case"./pages/VaultPage.vue":return T(()=>import("./VaultPage.6ab4b683.js"),["assets/VaultPage.6ab4b683.js","assets/vendor.a5ceec8f.js"]);default:return new Promise(function(e,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function A(s){return()=>Fe(`./pages/${s}.vue`)}const Ye=[{path:"/",name:"Home",component:A("HomePage"),beforeEnter:B},{path:"/profile/:id",name:"Profile",component:A("ProfilePage"),beforeEnter:B},{path:"/vaults/:id",name:"Vault",component:A("VaultPage"),beforeEnter:B},{path:"/account",name:"Account",component:A("AccountPage"),beforeEnter:ae}],O=te({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:oe(),routes:Ye});class Ge{async getAccount(){try{const e=await _.get("/account");i.account=e.data}catch(e){u.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}}const Ze=new Ge,Qe={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Xe{constructor(e=!1,o=W){}on(e,o){var t;return(t=this.socket)==null||t.on(e,o.bind(this)),this}onConnected(e){u.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){u.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var o;(o=this.socket)==null||o.emit(Qe.authenticate,e)}onError(e){u.error("[SOCKET_ERROR]",e)}enqueue(e,o){u.log("[ENQUEING_ACTION]",{action:e,payload:o}),this.queue.push({action:e,payload:o})}playback(){u.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(o=>{this.emit(o.action,o.payload)})}emit(e,o=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,o);if(!this.connected)return this.enqueue(e,o);this.socket.emit(e,o)}}class Je extends Xe{constructor(){super();this.on("error",this.onError)}onError(e){m.toast(e.message,"error")}}const Y=new Je;class et{async getById(e){const o=i.account.id,t=await _.get("api/vaults/"+e);if(t.isPrivate&&t.creatorId==o&&(i.activeVault=t.data),!t.isPrivate)i.activeVault=t.data;else return Error}async getProfileVaults(e){const o=await _.get(`api/profiles/${e}/vaults`);u.log("my vaults ",o.data),i.myVaults=o.data}async getVaultKeeps(e){const o=await _.get(`api/vaults/${e}/keeps`);i.vaultKeeps=o.data}async createVault(e){const o=await _.post("api/vaults",e);i.myVaults.push(o.data)}async deleteVault(e){await _.delete("api/vaults/"+e)}}const D=new et,g=se({domain:we,clientId:xe,audience:$e,useRefreshTokens:!0,onRedirectCallback:s=>{O.push(s&&s.targetUrl?s.targetUrl:window.location.pathname)}});g.on(g.AUTH_EVENTS.AUTHENTICATED,async function(){_.defaults.headers.authorization=g.bearer,_.interceptors.request.use(tt),i.user=g.user,await Ze.getAccount(),Y.authenticate(g.bearer);let s=i.account.id;await D.getProfileVaults(s)});async function tt(s){if(!g.isAuthenticated)return s;const e=g.identity.exp*1e3,o=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return o?await g.loginWithPopup():t&&(await g.getTokenSilently(),_.defaults.headers.authorization=g.bearer,Y.authenticate(g.bearer)),s}const ot={setup(){return{route:E(),user:h(()=>i.user),account:h(()=>i.account),async login(){g.loginWithPopup()},async logout(){g.logout({returnTo:window.location.origin})}}}},G=s=>(R("data-v-0f68e023"),s=s(),U(),s),at={key:0,class:"navbar-text"},st={key:1,class:"dropdown my-2 my-lg-0"},nt={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},rt={key:0},it=["src"],lt={class:"mx-3 text-secondary"},ct={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},dt=G(()=>a("div",{class:"list-group-item list-group-item-action hoverable"}," My Profile ",-1)),ut=G(()=>a("i",{class:"mdi mdi-logout"},null,-1)),pt=x(" logout "),_t=[ut,pt];function mt(s,e,o,t,r,l){const n=$("router-link");return t.route.name=="Home"?(c(),d("span",at,[t.user.isAuthenticated?(c(),d("div",st,[a("div",nt,[t.account.picture?(c(),d("div",rt,[a("img",{src:t.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,it),a("span",lt,v(t.account.name),1)])):k("",!0)]),a("div",ct,[K(n,{to:{name:"Profile",params:{id:t.account.id}}},{default:L(()=>[dt]),_:1},8,["to"]),a("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...p)=>t.logout&&t.logout(...p))},_t)])])):(c(),d("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...p)=>t.login&&t.login(...p))}," Login "))])):k("",!0)}var vt=f(ot,[["render",mt],["__scopeId","data-v-0f68e023"]]),gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vt});class ht{async getById(e){const o=await _.get("api/profiles/"+e);i.activeProfile=o.data}}const Z=new ht;class ft{async addToVault(e,o){const t={vaultId:e,keepId:o};u.log(t);const r=await _.post("api/vaultkeeps",t);u.log(r.data);const l=await _.get("api/keeps/"+o);i.activeKeep=l.data,i.myVaultKeeps.push(l.data),u.log(l.data)}}const Q=new ft,bt={setup(){const s=E();return{route:s,keep:h(()=>i.activeKeep),vaults:h(()=>i.myVaults),account:h(()=>i.account),async profilePage(e){try{await Z.getById(e),y.getOrCreateInstance(document.getElementById("keep-modal")).hide(),O.push({name:"Profile",params:{id:e}})}catch(o){u.error(o),m.toast(o.message,"error")}},async deleteKeep(e){if(await m.confirm())try{await P.deleteKeep(e),y.getOrCreateInstance(document.getElementById("keep-modal")).hide()}catch(o){u.error(o),m.toast(o.message,"error")}},async saveToVault(e,o){try{const t=i.activeKeep.id;await Q.addToVault(o,t),m.toast("Saved to "+e+" vault","success")}catch(t){u.error(t),m.toast(t.message,"error")}},async unSaveKeep(e){try{await P.unSaveKeep(e,s.params.id),y.getOrCreateInstance(document.getElementById("keep-modal")).hide()}catch(o){u.error(o),m.toast(o.message,"error")}}}}},yt={class:"modal fade",id:"keep-modal",tabindex:"-1"},kt={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},wt={class:"modal-content"},xt={class:"modal-body p-0"},$t={class:"container-fluid p-0"},Kt={class:"row m-0 p-0"},St={class:"col-md-6 col-12 m-0 p-0"},Vt=["src"],Ct={class:"col-md-6 col-12 h-100"},Pt={class:"row h-100"},Et=a("div",{class:"col-12 d-flex justify-content-end"},[a("button",{type:"button",class:"btn-close mt-2","data-bs-dismiss":"modal","aria-label":"Close"})],-1),It={class:"col-12 d-flex align-items-center"},Tt={class:"ms-2"},At={class:"ms-2"},Ot=a("span",{class:"ms-2 mdi mdi-eye"},null,-1),Mt=a("span",{class:"ms-2 mdi mdi-alpha-k"},null,-1),Bt={class:"col-12"},Dt={class:"ms-2"},Nt={class:"col-12 d-flex align-items-center"},jt=a("h6",{class:"ms-2"},"Uploaded by:",-1),qt={class:"col-12 justify-items-end d-flex h-100"},Lt={class:"ms-2 d-flex align-items-end"},Rt={key:1},Ut={class:"dropdown"},Ht={key:0,title:"Save to vault",class:"btn btn-secondary dropdown-toggle m-2",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},zt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Wt=["vaults"],Ft=["title","onClick"];function Yt(s,e,o,t,r,l){var n,p,w;return c(),d("div",yt,[a("div",kt,[a("div",wt,[a("div",xt,[a("div",$t,[a("div",Kt,[a("div",St,[a("img",{class:"modal-img bg-dark",src:t.keep.img},null,8,Vt)]),a("div",Ct,[a("div",Pt,[Et,a("div",It,[a("h1",Tt,v(t.keep.name),1),a("h5",At,[Ot,x(" "+v(t.keep.views),1)]),a("h5",null,[Mt,x(" "+v(t.keep.kept),1)])]),a("div",Bt,[a("h5",Dt,v(t.keep.description),1)]),a("div",Nt,[jt,a("h5",{class:"ms-2 text-info darken-20 selectable",onClick:e[0]||(e[0]=b=>t.profilePage(t.keep.creator.id)),title:"Go to Profile"},v((n=t.keep.creator)==null?void 0:n.name),1)]),a("div",qt,[a("div",Lt,[((p=t.keep.creator)==null?void 0:p.id)==((w=t.account)==null?void 0:w.id)?(c(),d("button",{key:0,type:"button",title:"delete keep",class:"btn btn-primary m-2",onClick:e[1]||(e[1]=b=>t.deleteKeep(t.keep.id))}," Delete ")):k("",!0),t.route.name=="Vault"?(c(),d("div",Rt,[t.keep.vaultKeepId?(c(),d("button",{key:0,type:"button",title:"unSave from Vault",class:"btn btn-info m-2",onClick:e[2]||(e[2]=b=>t.unSaveKeep(t.keep.vaultKeepId))}," UnKeep ")):k("",!0)])):k("",!0),a("div",Ut,[t.account.id?(c(),d("button",Ht," Keep ")):k("",!0),a("ul",zt,[(c(!0),d(M,null,H(t.vaults,b=>(c(),d("li",{key:b.id,vaults:b},[a("a",{class:"dropdown-item",title:b.name,onClick:I(ea=>t.saveToVault(b.name,b.id),["prevent"])},v(b.name),9,Ft)],8,Wt))),128))])])])])])])])])])])])])}var Gt=f(bt,[["render",Yt]]),Zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gt});const Qt={setup(){return{}}},Xt=s=>(R("data-v-3d9df9ce"),s=s(),U(),s),Jt={class:"navbar navbar-expand-lg d-flex justify-content-between navbar-dark bg-primary px-3 shadow"},eo=Xt(()=>a("h2",{class:"text-secondary",title:"Return to Home Page"},[a("span",{class:"mdi mdi-alpha-k-box"}),x("eepr ")],-1));function to(s,e,o,t,r,l){const n=$("router-link"),p=$("Login");return c(),d("nav",Jt,[K(n,{to:{name:"Home"}},{default:L(()=>[eo]),_:1}),a("div",null,[K(p)])])}var oo=f(Qt,[["render",to],["__scopeId","data-v-3d9df9ce"]]),ao=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oo});const so={props:{vault:{type:Object,required:!0}},setup(s){const e=ne();return{async vaultPage(o){try{await D.getById(o),e.push({name:"Vault",params:{id:o}})}catch(t){u.error(t),m.toast(t.message,"error")}},vaultkeep:h(()=>i.vaultKeeps)}}},no=["alt"],ro={class:"bg-shadow"},io={class:"keep-title p-2 text-light d-flex h-100 align-items-end"},lo={key:0,class:"mdi mdi-lock"};function co(s,e,o,t,r,l){return c(),d("div",{class:"keep position-relative bg-secondary elevation-2",title:"open vault",onClick:e[0]||(e[0]=n=>t.vaultPage(o.vault.id))},[a("img",{class:"vault img-keep",src:"https://images.unsplash.com/photo-1454117096348-e4abbeba002c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Z2VvbWV0cnl8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60",alt:o.vault.name},null,8,no),a("div",ro,[a("h4",io,[o.vault.isPrivate?(c(),d("span",lo)):k("",!0),x(v(o.vault.name),1)])])])}var uo=f(so,[["render",co],["__scopeId","data-v-5ea2e56e"]]),po=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uo});const _o={setup(){const s=q({});return{editable:s,async createVault(){try{s.CreatorId=this.account.id,await D.createVault(s.value),y.getOrCreateInstance(document.getElementById("create-vault-form")).hide(),s.value=""}catch(e){u.error(e),m.toast(e.message,"error"),s.value=""}},account:h(()=>i.account)}}},mo={class:"form-group"},vo=a("label",{for:"Name"},"Name",-1),go={class:"form-group"},ho=a("label",{for:"Description"},"Description",-1),fo=a("label",{for:"isPrivate",class:"ms-1"},"Private Vault",-1),bo=a("button",{type:"submit",class:"btn btn-secondary mt-2",title:"Create Keep"}," Create ",-1);function yo(s,e,o,t,r,l){return c(),d("form",{onSubmit:e[3]||(e[3]=I((...n)=>t.createVault&&t.createVault(...n),["prevent"]))},[a("div",mo,[vo,S(a("input",{type:"text",class:"form-control",id:"name",placeholder:"Cheesecakes","onUpdate:modelValue":e[0]||(e[0]=n=>t.editable.name=n),required:"",max:"50"},null,512),[[V,t.editable.name]])]),a("div",go,[ho,S(a("input",{type:"text",class:"form-control",id:"description",placeholder:"description...","onUpdate:modelValue":e[1]||(e[1]=n=>t.editable.description=n),required:"",max:"250"},null,512),[[V,t.editable.description]])]),a("div",null,[S(a("input",{type:"checkbox",placeholder:"Private","onUpdate:modelValue":e[2]||(e[2]=n=>t.editable.IsPrivate=n)},null,512),[[re,t.editable.IsPrivate]]),fo]),bo],32)}var ko=f(_o,[["render",yo]]),wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ko});const xo={setup(){return E(),{keep:h(()=>i.activeKeep),vaults:h(()=>i.myVaults),async profilePage(s){try{await Z.getById(s),y.getOrCreateInstance(document.getElementById("keep-modal")).hide(),O.push({name:"Profile",params:{id:s}})}catch(e){u.error(e),m.toast(e.message,"error")}},async deleteKeep(s){if(await m.confirm())try{await P.deleteKeep(s),y.getOrCreateInstance(document.getElementById("keep-modal")).hide()}catch(e){u.error(e),m.toast(e.message,"error")}},async saveToVault(s,e){try{const o=i.activeKeep.id;await Q.addToVault(e,o),m.toast("Saved to "+s+" vault","success")}catch(o){u.error(o),m.toast(o.message,"error")}}}}},$o={class:"modal fade",id:"keep-modal",tabindex:"-1"},Ko={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},So={class:"modal-content"},Vo={class:"modal-body p-0"},Co={class:"container-fluid p-0"},Po={class:"row m-0 p-0"},Eo={class:"col-md-6 col-12 m-0 p-0"},Io=["src"],To={class:"col-md-6 col-12 h-100"},Ao={class:"row h-100"},Oo=a("div",{class:"col-12 d-flex justify-content-end"},[a("button",{type:"button",class:"btn-close mt-2","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Mo={class:"col-12 d-flex align-items-center"},Bo={class:"ms-2"},Do=a("span",{class:"ms-2 mdi mdi-eye"},null,-1),No=a("span",{class:"ms-2 mdi mdi-pin"},null,-1),jo={class:"col-12"},qo={class:"ms-2"},Lo={class:"col-12 d-flex align-items-center"},Ro=a("h6",{class:"ms-2"},"Uploaded by:",-1),Uo={class:"col-12"},Ho={key:0,class:"ms-2 d-flex justify-content-end"},zo={class:"dropdown"},Wo=a("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Save ",-1),Fo={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},Yo=["vaults"],Go=["onClick"];function Zo(s,e,o,t,r,l){var n;return c(),d("div",$o,[a("div",Ko,[a("div",So,[a("div",Vo,[a("div",Co,[a("div",Po,[a("div",Eo,[a("img",{class:"modal-img bg-dark",src:t.keep.img},null,8,Io)]),a("div",To,[a("div",Ao,[Oo,a("div",Mo,[a("h1",Bo,v(t.keep.name),1),a("h5",null,[Do,x(" "+v(t.keep.views),1)]),a("h5",null,[No,x(" "+v(t.keep.kept),1)])]),a("div",jo,[a("h5",qo,v(t.keep.description),1)]),a("div",Lo,[Ro,a("h5",{class:"ms-2 text-bold selectable",onClick:e[0]||(e[0]=p=>t.profilePage(t.keep.creator.id))},v((n=t.keep.creator)==null?void 0:n.name),1)]),a("div",Uo,[(t.keep.creatorId=s.account.id)?(c(),d("div",Ho,[a("button",{type:"button",class:"btn btn-danger m-2",onClick:e[1]||(e[1]=p=>t.deleteKeep(t.keep.id))}," Delete "+v(t.keep.vaultKeepId),1),a("button",{type:"button",class:"btn btn-danger m-2",onClick:e[2]||(e[2]=p=>s.removeVaultKeep(t.keep.id))}," Unsave "),a("div",zo,[Wo,a("ul",Fo,[(c(!0),d(M,null,H(t.vaults,p=>(c(),d("li",{key:p.id,vaults:p},[a("a",{class:"dropdown-item",onClick:I(w=>t.saveToVault(p.name,p.id),["prevent"])},v(p.name),9,Go)],8,Yo))),128))])])])):k("",!0)])])])])])])])])])}var Qo=f(xo,[["render",Zo]]),Xo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qo});function Jo(s){Object.entries({"./components/FormModal.vue":ke,"./components/Keep.vue":Ae,"./components/KeepForm.vue":He,"./components/Login.vue":gt,"./components/Modal.vue":Zt,"./components/Navbar.vue":ao,"./components/Vault.vue":po,"./components/VaultForm.vue":wo,"./components/VaultKeep.vue":Xo}).forEach(([o,t])=>{const r=t.name||o.substr(o.lastIndexOf("/")+1).replace(/\.\w+$/,"");s.component(r,t.default)})}const X=ie(ue);Jo(X);X.use(O).mount("#app");export{i as A,m as P,f as _,P as k,u as l,Z as p,D as v};
